(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{342:function(e,t,i){var n=i(362);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(67).default)("4abc2356",n,!1,{})},361:function(e,t,i){"use strict";var n=i(342);i.n(n).a},362:function(e,t,i){(e.exports=i(66)(!1)).push([e.i,".timeline-controls .interval-input[data-v-5907db44]{margin-left:20px;max-width:300px}.timeline-controls ul[data-v-5907db44]{margin-top:30px;margin-bottom:10px;list-style:none}.timeline-controls ul li[data-v-5907db44]{display:inline}",""])},383:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"timeline-container"},[i("h1",[e._v("I am timeline")]),e._v(" "),i("v-btn",{attrs:{color:"primary",outlined:"",text:""},on:{click:function(t){return e.navigate("/")}}},[e._v("Go to prev page")]),e._v(" "),i("div",{staticClass:"timeline-controls"},[i("div",{staticClass:"interval-input"},[i("v-text-field",{attrs:{label:"Input minimum time event interval (ms)",value:e.minTimeIntervalValue,"hide-details":"auto"},model:{value:e.minTimeIntervalValue,callback:function(t){e.minTimeIntervalValue=t},expression:"minTimeIntervalValue"}})],1),e._v(" "),i("ul",[i("li",[i("v-btn",{on:{click:function(t){return e.moveTimeline(.2,-1)}}},[e._v("Move left")])],1),e._v(" "),i("li",[i("v-btn",{on:{click:function(t){return e.moveTimeline(.2,1)}}},[e._v("Move right")])],1),e._v(" "),i("li",[i("v-btn",{on:{click:function(t){return e.zoomTimeline(.2,-1)}}},[e._v("Zoom out")])],1),e._v(" "),i("li",[i("v-btn",{on:{click:function(t){return e.zoomTimeline(.2,1)}}},[e._v("Zoom in")])],1),e._v(" "),i("li",[i("v-btn",{on:{click:function(t){return e.jumpToEvent(-1)}}},[e._v("Move to prev event")])],1),e._v(" "),i("li",[i("v-btn",{on:{click:function(t){return e.jumpToEvent(1)}}},[e._v("Move to next event")])],1)])]),e._v(" "),i("div",{attrs:{id:"visContainer"}})],1)};n._withStripped=!0;var r=i(377),a={name:"TimelineComponent",components:{},props:{timeEvents:{type:Array,required:!0},minInterval:{type:Number,default:3e5}},data:function(){return{timeline:null,selectedTimeEventID:0,lastSelectableTimeEventID:0,markerIDs:{start:null,end:null},minTimeIntervalValue:0}},mounted:function(){var e=this,t=document.getElementById("visContainer"),i=[],n=this.$props.timeEvents;n.forEach((function(e){e.originStart=e.start,e.originEnd=e.end,i.push(e);var t={id:e.id+n.length,start:e.start,end:e.end,type:"background",className:"negative"};i.push(t)})),this.minTimeIntervalValue=this.$props.minInterval,this.lastSelectableTimeEventID=n[n.length-1].id;var a=n[0].start-n[0].start%864e5-108e5,s=n[n.length-1].end-n[n.length-1].end%864e5+162e6,l=new r.a(i),m={min:a,max:s,selectable:!0,zoomMin:6e5,height:150,stack:!1,zoomable:!0,showCurrentTime:!0};this.timeline=new r.b(t,l,m),this.timeline.fit(),this.timeline.on("timechange",(function(t){var i=l.get(e.selectedTimeEventID);if(t.id===e.markerIDs.start){if(i.start=t.time,t.time<=i.originStart&&(e.timeline.setCustomTime(i.originStart,e.markerIDs.start),i.start=i.originStart),i.end-t.time<=e.minTimeIntervalValue){var n=i.end-e.minTimeIntervalValue;i.originEnd-i.originStart<=e.minTimeIntervalValue&&(n=i.originStart),e.timeline.setCustomTime(n,e.markerIDs.start),i.start=n}}else if(t.id===e.markerIDs.end&&(i.end=t.time,t.time>=i.originEnd&&(e.timeline.setCustomTime(i.originEnd,e.markerIDs.end),i.end=i.originEnd),t.time-i.start<=e.minTimeIntervalValue)){var r=new Date(i.start).getTime()+e.minTimeIntervalValue;i.originEnd-i.originStart<=e.minTimeIntervalValue&&(r=i.originEnd),e.timeline.setCustomTime(new Date(r),e.markerIDs.end),i.end=new Date(r)}l.update(i)})),this.timeline.on("click",(function(t){"item"===e.timeline.getEventProperties(t.event).what&&(e.selectedTimeEventID=t.item,e.timeDividerHandler())}))},methods:{navigate:function(e){this.$router.push(e)},moveTimeline:function(e,t){var i=this.timeline.getWindow(),n=i.end-i.start,r=e*t;this.timeline.setWindow({start:i.start.valueOf()-n*r,end:i.end.valueOf()-n*r})},jumpToEvent:function(e){return(!this.selectedTimeEventID||1===this.selectedTimeEventID)&&-1===e||this.selectedTimeEventID===this.lastSelectableTimeEventID&&1===e||(this.selectedTimeEventID+=e,this.timeline.setSelection(this.selectedTimeEventID,{focus:!0}),this.timeDividerHandler()),!1},zoomTimeline:function(e,t){-1===t?this.timeline.zoomOut(e):1===t&&this.timeline.zoomIn(e)},timeDividerHandler:function(){var e=this.timeline.itemsData.get(this.selectedTimeEventID);this.markerIDs.start&&this.markerIDs.end?(this.timeline.setCustomTime(e.start,this.markerIDs.start),this.timeline.setCustomTime(e.end,this.markerIDs.end)):(this.createTimelineDivider(e.start),this.createTimelineDivider(e.end))},createTimelineDivider:function(e){var t=(new Date).getTime();this.timeline.addCustomTime(e,t),this.markerIDs.start?this.markerIDs.end=t:this.markerIDs.start=t}}},s=(i(361),i(100)),l=i(101),m=i.n(l),o=i(380),v=i(379),u=Object(s.a)(a,n,[],!1,null,"5907db44",null);m()(u,{VBtn:o.a,VTextField:v.a}),u.options.__file="src/components/timeline/TimelineComponent.vue";t.default=u.exports}}]);